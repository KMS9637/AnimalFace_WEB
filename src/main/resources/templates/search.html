<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>방구석연구소 - 검색</title>
    <meta name="description" content="방구석에서 시작하는 &#39;나&#39;연구소! 연애능력 테스트, 아이돌 포지션 테스트, 고인물 테스트">
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="icon" type="image/png" href="./favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="./favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./favicon-96x96.png" sizes="96x96">
    <link rel="image_src" href="https://cdn.banggooso.com/assets/images/common/ogimg.jpg">
    <meta property="og:title" content="방구석연구소" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://www.banggooso.com/" />
    <meta property="og:image" content="https://cdn.banggooso.com/assets/images/common/ogimg.jpg" />
    <meta property="og:description" content="방구석에서 시작하는 &#39;나&#39;연구소! 연애능력 테스트, 아이돌 포지션 테스트, 고인물 테스트" />
    <meta property="og:site_name" content="방구석연구소" />
    <meta property="fb:app_id" content="868684923711460" />
    <link rel="canonical" href="https://www.banggooso.com/" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="/css/main/common.css">
    <link rel="stylesheet" href="/css/main/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400;1,600&display=swap" rel="stylesheet">
    <script src="/assets/js/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.4.0/dist/lazyload.min.js"></script>
    <script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/kas/static/kp.js"></script>

    <script>
        kakaoPixel('6894544435604599766').pageView();
        kakaoPixel('6894544435604599766').search({
            keyword: ''
        });
    </script>
</head>
<body class="ko-KR"><div class="app search" data-app>
<header class="app-header test_center">
    <button type="button" class="app-header-btn back" onclick="history.go(-1);;" title="뒤로가기"></button>
    <h1 class="app-title">검색</h1>
</header>
<main class="app-main">
    <!-- 검색창 -->
    <div class="common-form-group" data-form-group>
        <div class="form-control-wrap">
            <input class="form-control" name="q" maxlength="20" onkeydown="enterkey(event);" value="" autofocus data-input placeholder="검색어를 입력하세요.">
            <button type="reset" class="btn-remove-text" onclick="clearSearch()">텍스트 삭제</button>
        </div>
    </div>
</main>

<script>
    function enterkey(event) {
        if (event.keyCode === 13) {  // Enter 키 코드가 13
            event.preventDefault();  // 기본 동작 방지
            let searchWord = $("input[name='q']").val().trim();
            filterResults(searchWord);
            updateURL(searchWord);
        }
    }

    function clearSearch() {
        $("input[name='q']").val('');
        filterResults('');
        updateURL('');
    }

    function filterResults(searchWord) {
        // 모든 결과 항목을 가져옵니다.
        let items = document.querySelectorAll('.feed-list li');

        // 항목을 숨기기 전 검색어를 소문자로 변환
        searchWord = searchWord.toLowerCase();

        items.forEach(item => {
            // category-title 텍스트를 소문자로 변환하여 비교
            let title = item.querySelector('.category-title').textContent.toLowerCase();
            if (title.includes(searchWord)) {
                item.style.display = 'list-item';  // 검색어와 일치하면 표시
            } else {
                item.style.display = 'none';  // 검색어와 일치하지 않으면 숨김
            }
        });
    }

    function updateURL(searchWord) {
        let encodedSearchWord = encodeURIComponent(searchWord);
        let newURL = `?q=${encodedSearchWord}`;
        window.history.replaceState(null, null, newURL);
    }

    function backUp() {
        window.location.href = '/';  // 홈 페이지로 이동
    }

    function location_this(url) {
        window.location.href = url;
    }
</script>
</div>
</body>
</html>